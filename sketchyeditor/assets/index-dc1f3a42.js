(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function b(){}function kt(e,t){for(const n in t)e[n]=t[n];return e}function wt(e){return e()}function _t(){return Object.create(null)}function N(e){e.forEach(wt)}function vt(e){return typeof e=="function"}function M(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Et(e){return Object.keys(e).length===0}function Pt(e,...t){if(e==null)return b;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function j(e){let t;return Pt(e,n=>t=n)(),t}function W(e,t,n){e.$$.on_destroy.push(Pt(t,n))}function Ot(e,t,n,r){if(e){const o=xt(e,t,n,r);return e[0](o)}}function xt(e,t,n,r){return e[1]&&r?kt(n.ctx.slice(),e[1](r(t))):n.ctx}function Lt(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const l=[],u=Math.max(t.dirty.length,o.length);for(let i=0;i<u;i+=1)l[i]=t.dirty[i]|o[i];return l}return t.dirty|o}return t.dirty}function jt(e,t,n,r,o,l){if(o){const u=xt(t,n,r,l);e.p(u,o)}}function zt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function rt(e,t,n){return e.set(n),t}function h(e,t){e.appendChild(t)}function v(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode&&e.parentNode.removeChild(e)}function Nt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function ut(e){return document.createTextNode(e)}function C(){return ut(" ")}function ct(){return ut("")}function k(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function w(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Mt(e){return Array.from(e.childNodes)}function St(e,t){t=""+t,e.data!==t&&(e.data=t)}function E(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let K;function H(e){K=e}function qt(){if(!K)throw new Error("Function called outside component initialization");return K}function At(e){qt().$$.on_mount.push(e)}function Bt(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const U=[],A=[];let I=[];const ot=[],Gt=Promise.resolve();let it=!1;function Tt(){it||(it=!0,Gt.then(Ct))}function lt(e){I.push(e)}function Q(e){ot.push(e)}const nt=new Set;let F=0;function Ct(){if(F!==0)return;const e=K;do{try{for(;F<U.length;){const t=U[F];F++,H(t),Ft(t.$$)}}catch(t){throw U.length=0,F=0,t}for(H(null),U.length=0,F=0;A.length;)A.pop()();for(let t=0;t<I.length;t+=1){const n=I[t];nt.has(n)||(nt.add(n),n())}I.length=0}while(U.length);for(;ot.length;)ot.pop()();it=!1,nt.clear(),H(e)}function Ft(e){if(e.fragment!==null){e.update(),N(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(lt)}}function Rt(e){const t=[],n=[];I.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),I=t}const Y=new Set;let S;function ft(){S={r:0,c:[],p:S}}function at(){S.r||N(S.c),S=S.p}function p(e,t){e&&e.i&&(Y.delete(e),e.i(t))}function g(e,t,n,r){if(e&&e.o){if(Y.has(e))return;Y.add(e),S.c.push(()=>{Y.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function V(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function z(e){e&&e.c()}function O(e,t,n,r){const{fragment:o,after_update:l}=e.$$;o&&o.m(t,n),r||lt(()=>{const u=e.$$.on_mount.map(wt).filter(vt);e.$$.on_destroy?e.$$.on_destroy.push(...u):N(u),e.$$.on_mount=[]}),l.forEach(lt)}function L(e,t){const n=e.$$;n.fragment!==null&&(Rt(n.after_update),N(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ut(e,t){e.$$.dirty[0]===-1&&(U.push(e),Tt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function B(e,t,n,r,o,l,u,i=[-1]){const s=K;H(e);const c=e.$$={fragment:null,ctx:[],props:l,update:b,not_equal:o,bound:_t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:_t(),dirty:i,skip_bound:!1,root:t.target||s.$$.root};u&&u(c.root);let _=!1;if(c.ctx=n?n(e,t.props||{},(f,m,...P)=>{const x=P.length?P[0]:m;return c.ctx&&o(c.ctx[f],c.ctx[f]=x)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](x),_&&Ut(e,f)),m}):[],c.update(),_=!0,N(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const f=Mt(t.target);c.fragment&&c.fragment.l(f),f.forEach($)}else c.fragment&&c.fragment.c();t.intro&&p(e.$$.fragment),O(e,t.target,t.anchor,t.customElement),Ct()}H(s)}class G{$destroy(){L(this,1),this.$destroy=b}$on(t,n){if(!vt(n))return b;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Et(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const R=[];function X(e,t=b){let n;const r=new Set;function o(i){if(M(e,i)&&(e=i,n)){const s=!R.length;for(const c of r)c[1](),R.push(c,e);if(s){for(let c=0;c<R.length;c+=2)R[c][0](R[c+1]);R.length=0}}}function l(i){o(i(e))}function u(i,s=b){const c=[i,s];return r.add(c),r.size===1&&(n=t(o)||b),i(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:l,subscribe:u}}let J=X(void 0),D=X(void 0),q=X(),Z=X(void 0),tt=X();const et=()=>{let e=j(tt);e.clearRect(0,0,e.canvas.width,e.canvas.height),j(q).forEach(t=>{Wt(t)})},Wt=e=>{let t=j(tt);t&&(t.lineWidth=10,t.strokeStyle="white",t.beginPath(),t.moveTo(e.startPoint.x,e.startPoint.y),t.lineTo(e.endPoint.x,e.endPoint.y),t.stroke())},It=()=>{J.set(void 0),D.set(void 0),q.set([]),et()},Jt=()=>{if(j(J))return;const e={position:{x:400,y:250},label:"Player"};J.set(e)},Dt=()=>{if(j(D))return;const e={position:{x:600,y:250},label:"Goal"};D.set(e)},Ht=()=>{const e={startPoint:{x:100,y:100},endPoint:{x:300,y:300}};j(q)===void 0?q.set([e]):q.update(t=>[...t,e]),et()},Kt=()=>{let e={playerPosition:j(J).position,goalPosition:j(D).position,platforms:j(q)};Xt(JSON.stringify(e),"level.json","text/plain")},Xt=(e,t,n)=>{var r=document.createElement("a"),o=new Blob([e],{type:n});r.href=URL.createObjectURL(o),r.download=t,r.click(),window.alert(`${t} downloaded`)};function Yt(e){let t,n,r,o,l,u,i,s,c,_,f,m,P,x;return{c(){t=y("div"),n=y("button"),n.textContent="Load",r=C(),o=y("button"),o.textContent="Save",l=C(),u=y("button"),u.textContent="Clear",i=C(),s=y("button"),s.textContent="Player",c=C(),_=y("button"),_.textContent="Goal",f=C(),m=y("button"),m.textContent="Platform",w(n,"class","svelte-zthcnx"),w(o,"class","svelte-zthcnx"),w(u,"class","svelte-zthcnx"),w(s,"class","svelte-zthcnx"),w(_,"class","svelte-zthcnx"),w(m,"class","svelte-zthcnx"),E(t,"display","flex"),E(t,"gap","10px"),E(t,"margin-top","1em")},m(d,a){v(d,t,a),h(t,n),h(t,r),h(t,o),h(t,l),h(t,u),h(t,i),h(t,s),h(t,c),h(t,_),h(t,f),h(t,m),P||(x=[k(o,"click",Kt),k(u,"click",It),k(s,"click",Jt),k(_,"click",Dt),k(m,"click",Ht)],P=!0)},p:b,i:b,o:b,d(d){d&&$(t),P=!1,N(x)}}}class Qt extends G{constructor(t){super(),B(this,t,null,Yt,M,{})}}function Vt(e){let t,n,r,o;const l=e[5].default,u=Ot(l,e,e[4],null);return{c(){t=y("div"),u&&u.c(),w(t,"class","figure circle svelte-lwj6zi"),E(t,"background-color","white"),E(t,"top",e[0].y+"px"),E(t,"left",e[0].x+"px")},m(i,s){v(i,t,s),u&&u.m(t,null),n=!0,r||(o=[k(window,"mouseup",e[3]),k(window,"mousemove",e[2]),k(t,"mousedown",e[1]),k(t,"mousedown",e[6])],r=!0)},p(i,[s]){u&&u.p&&(!n||s&16)&&jt(u,l,i,i[4],n?Lt(l,i[4],s,null):zt(i[4]),null),(!n||s&1)&&E(t,"top",i[0].y+"px"),(!n||s&1)&&E(t,"left",i[0].x+"px")},i(i){n||(p(u,i),n=!0)},o(i){g(u,i),n=!1},d(i){i&&$(t),u&&u.d(i),r=!1,N(o)}}}function Zt(e,t,n){let{$$slots:r={},$$scope:o}=t,{position:l}=t,u=!1;function i(){u=!0}function s(f){u&&(n(0,l.x+=f.movementX,l),n(0,l.y+=f.movementY,l))}function c(){u=!1}function _(f){Bt.call(this,e,f)}return e.$$set=f=>{"position"in f&&n(0,l=f.position),"$$scope"in f&&n(4,o=f.$$scope)},[l,i,s,c,o,r,_]}class st extends G{constructor(t){super(),B(this,t,Zt,Vt,M,{position:0})}}function mt(e){let t,n;return t=new st({props:{position:e[0].position,$$slots:{default:[te]},$$scope:{ctx:e}}}),{c(){z(t.$$.fragment)},m(r,o){O(t,r,o),n=!0},p(r,o){const l={};o&1&&(l.position=r[0].position),o&3&&(l.$$scope={dirty:o,ctx:r}),t.$set(l)},i(r){n||(p(t.$$.fragment,r),n=!0)},o(r){g(t.$$.fragment,r),n=!1},d(r){L(t,r)}}}function gt(e){let t,n=e[0].label+"",r;return{c(){t=y("span"),r=ut(n),w(t,"class","label svelte-15kq1cq")},m(o,l){v(o,t,l),h(t,r)},p(o,l){l&1&&n!==(n=o[0].label+"")&&St(r,n)},d(o){o&&$(t)}}}function te(e){let t,n=e[0].label&&gt(e);return{c(){n&&n.c(),t=ct()},m(r,o){n&&n.m(r,o),v(r,t,o)},p(r,o){r[0].label?n?n.p(r,o):(n=gt(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&$(t)}}}function ee(e){let t,n,r=e[0]&&mt(e);return{c(){r&&r.c(),t=ct()},m(o,l){r&&r.m(o,l),v(o,t,l),n=!0},p(o,[l]){o[0]?r?(r.p(o,l),l&1&&p(r,1)):(r=mt(o),r.c(),p(r,1),r.m(t.parentNode,t)):r&&(ft(),g(r,1,1,()=>{r=null}),at())},i(o){n||(p(r),n=!0)},o(o){g(r),n=!1},d(o){r&&r.d(o),o&&$(t)}}}function ne(e,t,n){let{figure:r}=t;return e.$$set=o=>{"figure"in o&&n(0,r=o.figure)},[r]}class ht extends G{constructor(t){super(),B(this,t,ne,ee,M,{figure:0})}}function re(e){let t,n,r,o,l,u;function i(f){e[2](f)}let s={};e[0].startPoint!==void 0&&(s.position=e[0].startPoint),t=new st({props:s}),A.push(()=>V(t,"position",i)),t.$on("mousedown",e[1]);function c(f){e[3](f)}let _={};return e[0].endPoint!==void 0&&(_.position=e[0].endPoint),o=new st({props:_}),A.push(()=>V(o,"position",c)),o.$on("mousedown",e[1]),{c(){z(t.$$.fragment),r=C(),z(o.$$.fragment)},m(f,m){O(t,f,m),v(f,r,m),O(o,f,m),u=!0},p(f,[m]){const P={};!n&&m&1&&(n=!0,P.position=f[0].startPoint,Q(()=>n=!1)),t.$set(P);const x={};!l&&m&1&&(l=!0,x.position=f[0].endPoint,Q(()=>l=!1)),o.$set(x)},i(f){u||(p(t.$$.fragment,f),p(o.$$.fragment,f),u=!0)},o(f){g(t.$$.fragment,f),g(o.$$.fragment,f),u=!1},d(f){L(t,f),f&&$(r),L(o,f)}}}function oe(e,t,n){let r;W(e,Z,s=>n(4,r=s));let{platform:o}=t;const l=()=>{rt(Z,r=o,r)};function u(s){e.$$.not_equal(o.startPoint,s)&&(o.startPoint=s,n(0,o))}function i(s){e.$$.not_equal(o.endPoint,s)&&(o.endPoint=s,n(0,o))}return e.$$set=s=>{"platform"in s&&n(0,o=s.platform)},[o,l,u,i]}class ie extends G{constructor(t){super(),B(this,t,oe,re,M,{platform:0})}}function le(e){let t,n,r;return{c(){t=y("canvas"),E(t,"z-index","-999"),E(t,"position","fixed"),w(t,"width","900"),w(t,"height","506")},m(o,l){v(o,t,l),e[4](t),n||(r=[k(window,"mouseup",e[2]),k(window,"mousemove",e[3])],n=!0)},p:b,i:b,o:b,d(o){o&&$(t),e[4](null),n=!1,N(r)}}}function se(e,t,n){let r,o;W(e,tt,c=>n(5,r=c)),W(e,Z,c=>n(1,o=c));let l;At(()=>{rt(tt,r=l.getContext("2d"),r)});const u=()=>{o&&(et(),rt(Z,o=void 0,o))},i=()=>{o&&et()};function s(c){A[c?"unshift":"push"](()=>{l=c,n(0,l)})}return[l,o,u,i,s]}class ue extends G{constructor(t){super(),B(this,t,se,le,M,{})}}function bt(e,t,n){const r=e.slice();return r[5]=t[n],r}function $t(e){let t,n,r=e[2],o=[];for(let u=0;u<r.length;u+=1)o[u]=yt(bt(e,r,u));const l=u=>g(o[u],1,1,()=>{o[u]=null});return{c(){for(let u=0;u<o.length;u+=1)o[u].c();t=ct()},m(u,i){for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(u,i);v(u,t,i),n=!0},p(u,i){if(i&4){r=u[2];let s;for(s=0;s<r.length;s+=1){const c=bt(u,r,s);o[s]?(o[s].p(c,i),p(o[s],1)):(o[s]=yt(c),o[s].c(),p(o[s],1),o[s].m(t.parentNode,t))}for(ft(),s=r.length;s<o.length;s+=1)l(s);at()}},i(u){if(!n){for(let i=0;i<r.length;i+=1)p(o[i]);n=!0}},o(u){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)g(o[i]);n=!1},d(u){Nt(o,u),u&&$(t)}}}function yt(e){let t,n;return t=new ie({props:{platform:e[5]}}),{c(){z(t.$$.fragment)},m(r,o){O(t,r,o),n=!0},p(r,o){const l={};o&4&&(l.platform=r[5]),t.$set(l)},i(r){n||(p(t.$$.fragment,r),n=!0)},o(r){g(t.$$.fragment,r),n=!1},d(r){L(t,r)}}}function ce(e){let t,n,r,o,l,u,i,s,c,_;n=new ue({});function f(a){e[3](a)}let m={};e[0]!==void 0&&(m.figure=e[0]),o=new ht({props:m}),A.push(()=>V(o,"figure",f));function P(a){e[4](a)}let x={};e[1]!==void 0&&(x.figure=e[1]),i=new ht({props:x}),A.push(()=>V(i,"figure",P));let d=e[2]&&$t(e);return{c(){t=y("div"),z(n.$$.fragment),r=C(),z(o.$$.fragment),u=C(),z(i.$$.fragment),c=C(),d&&d.c(),w(t,"id","container"),w(t,"class","svelte-1r66qiu")},m(a,T){v(a,t,T),O(n,t,null),h(t,r),O(o,t,null),h(t,u),O(i,t,null),h(t,c),d&&d.m(t,null),_=!0},p(a,[T]){const dt={};!l&&T&1&&(l=!0,dt.figure=a[0],Q(()=>l=!1)),o.$set(dt);const pt={};!s&&T&2&&(s=!0,pt.figure=a[1],Q(()=>s=!1)),i.$set(pt),a[2]?d?(d.p(a,T),T&4&&p(d,1)):(d=$t(a),d.c(),p(d,1),d.m(t,null)):d&&(ft(),g(d,1,1,()=>{d=null}),at())},i(a){_||(p(n.$$.fragment,a),p(o.$$.fragment,a),p(i.$$.fragment,a),p(d),_=!0)},o(a){g(n.$$.fragment,a),g(o.$$.fragment,a),g(i.$$.fragment,a),g(d),_=!1},d(a){a&&$(t),L(n),L(o),L(i),d&&d.d()}}}function fe(e,t,n){let r,o,l;W(e,J,s=>n(0,r=s)),W(e,D,s=>n(1,o=s)),W(e,q,s=>n(2,l=s));function u(s){r=s,J.set(r)}function i(s){o=s,D.set(o)}return[r,o,l,u,i]}class ae extends G{constructor(t){super(),B(this,t,fe,ce,M,{})}}function de(e){let t,n,r,o,l,u;return t=new ae({}),r=new Qt({}),{c(){z(t.$$.fragment),n=C(),z(r.$$.fragment),o=C(),l=y("p"),l.innerHTML="<em>Aevumdev - Sketchy Level Editor</em>"},m(i,s){O(t,i,s),v(i,n,s),O(r,i,s),v(i,o,s),v(i,l,s),u=!0},p:b,i(i){u||(p(t.$$.fragment,i),p(r.$$.fragment,i),u=!0)},o(i){g(t.$$.fragment,i),g(r.$$.fragment,i),u=!1},d(i){L(t,i),i&&$(n),L(r,i),i&&$(o),i&&$(l)}}}class pe extends G{constructor(t){super(),B(this,t,null,de,M,{})}}new pe({target:document.getElementById("app")});
