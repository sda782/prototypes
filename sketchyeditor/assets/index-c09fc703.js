(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function b(){}function zt(e,t){for(const n in t)e[n]=t[n];return e}function Ct(e){return e()}function mt(){return Object.create(null)}function j(e){e.forEach(Ct)}function kt(e){return typeof e=="function"}function N(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function St(e){return Object.keys(e).length===0}function Et(e,...t){if(e==null)return b;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function z(e){let t;return Et(e,n=>t=n)(),t}function W(e,t,n){e.$$.on_destroy.push(Et(t,n))}function jt(e,t,n,o){if(e){const r=Ot(e,t,n,o);return e[0](r)}}function Ot(e,t,n,o){return e[1]&&o?zt(n.ctx.slice(),e[1](o(t))):n.ctx}function Nt(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(t.dirty===void 0)return r;if(typeof r=="object"){const s=[],u=Math.max(t.dirty.length,r.length);for(let i=0;i<u;i+=1)s[i]=t.dirty[i]|r[i];return s}return t.dirty|r}return t.dirty}function Mt(e,t,n,o,r,s){if(r){const u=Ot(t,n,o,s);e.p(u,r)}}function qt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let o=0;o<n;o++)t[o]=-1;return t}return-1}function rt(e,t,n){return e.set(n),t}function h(e,t){e.appendChild(t)}function v(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode&&e.parentNode.removeChild(e)}function At(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function ct(e){return document.createTextNode(e)}function C(){return ct(" ")}function ft(){return ct("")}function k(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function w(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Bt(e){return Array.from(e.childNodes)}function Tt(e,t){t=""+t,e.data!==t&&(e.data=t)}function E(e,t,n,o){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}let D;function Y(e){D=e}function Gt(){if(!D)throw new Error("Function called outside component initialization");return D}function Ut(e){Gt().$$.on_mount.push(e)}function Ft(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(o=>o.call(this,t))}const R=[],A=[];let I=[];const it=[],Rt=Promise.resolve();let st=!1;function Wt(){st||(st=!0,Rt.then(Lt))}function lt(e){I.push(e)}function V(e){it.push(e)}const ot=new Set;let U=0;function Lt(){if(U!==0)return;const e=D;do{try{for(;U<R.length;){const t=R[U];U++,Y(t),It(t.$$)}}catch(t){throw R.length=0,U=0,t}for(Y(null),R.length=0,U=0;A.length;)A.pop()();for(let t=0;t<I.length;t+=1){const n=I[t];ot.has(n)||(ot.add(n),n())}I.length=0}while(R.length);for(;it.length;)it.pop()();st=!1,ot.clear(),Y(e)}function It(e){if(e.fragment!==null){e.update(),j(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(lt)}}function Jt(e){const t=[],n=[];I.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),I=t}const Q=new Set;let M;function at(){M={r:0,c:[],p:M}}function dt(){M.r||j(M.c),M=M.p}function p(e,t){e&&e.i&&(Q.delete(e),e.i(t))}function g(e,t,n,o){if(e&&e.o){if(Q.has(e))return;Q.add(e),M.c.push(()=>{Q.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function Z(e,t,n){const o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function S(e){e&&e.c()}function O(e,t,n,o){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),o||lt(()=>{const u=e.$$.on_mount.map(Ct).filter(kt);e.$$.on_destroy?e.$$.on_destroy.push(...u):j(u),e.$$.on_mount=[]}),s.forEach(lt)}function L(e,t){const n=e.$$;n.fragment!==null&&(Jt(n.after_update),j(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Xt(e,t){e.$$.dirty[0]===-1&&(R.push(e),Wt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function B(e,t,n,o,r,s,u,i=[-1]){const l=D;Y(e);const c=e.$$={fragment:null,ctx:[],props:s,update:b,not_equal:r,bound:mt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:mt(),dirty:i,skip_bound:!1,root:t.target||l.$$.root};u&&u(c.root);let _=!1;if(c.ctx=n?n(e,t.props||{},(f,m,...P)=>{const x=P.length?P[0]:m;return c.ctx&&r(c.ctx[f],c.ctx[f]=x)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](x),_&&Xt(e,f)),m}):[],c.update(),_=!0,j(c.before_update),c.fragment=o?o(c.ctx):!1,t.target){if(t.hydrate){const f=Bt(t.target);c.fragment&&c.fragment.l(f),f.forEach($)}else c.fragment&&c.fragment.c();t.intro&&p(e.$$.fragment),O(e,t.target,t.anchor,t.customElement),Lt()}Y(l)}class T{$destroy(){L(this,1),this.$destroy=b}$on(t,n){if(!kt(n))return b;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!St(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const F=[];function H(e,t=b){let n;const o=new Set;function r(i){if(N(e,i)&&(e=i,n)){const l=!F.length;for(const c of o)c[1](),F.push(c,e);if(l){for(let c=0;c<F.length;c+=2)F[c][0](F[c+1]);F.length=0}}}function s(i){r(i(e))}function u(i,l=b){const c=[i,l];return o.add(c),o.size===1&&(n=t(r)||b),i(e),()=>{o.delete(c),o.size===0&&n&&(n(),n=null)}}return{set:r,update:s,subscribe:u}}let J=H(void 0),X=H(void 0),q=H(),tt=H(void 0),et=H();const nt=()=>{let e=z(et);e.clearRect(0,0,e.canvas.width,e.canvas.height),z(q).forEach(t=>{Yt(t)})},Yt=e=>{let t=z(et);t&&(t.lineWidth=10,t.strokeStyle="white",t.beginPath(),t.moveTo(e.startPosition.x,e.startPosition.y),t.lineTo(e.endPosition.x,e.endPosition.y),t.stroke())},Dt=()=>{J.set(void 0),X.set(void 0),q.set([]),nt()},Ht=()=>{if(z(J))return;const e={position:{x:400,y:250},label:"Player"};J.set(e)},Kt=()=>{if(z(X))return;const e={position:{x:600,y:250},label:"Goal"};X.set(e)},Qt=()=>{const e={startPosition:{x:100,y:100},endPosition:{x:300,y:300}};z(q)===void 0?q.set([e]):q.update(t=>[...t,e]),nt()},gt={x:36,y:16},ht={x:-18,y:-8},bt={x:900,y:506},K=e=>{let t=e.x/bt.x*gt.x+ht.x,n=-1*(e.y/bt.y*gt.y+ht.y);return{x:t,y:n}},Vt=()=>{let e={playerPosition:K(z(J).position),goalPosition:K(z(X).position),platforms:z(q).map(t=>({startPosition:K(t.startPosition),endPosition:K(t.endPosition)}))};console.log(e),Zt(JSON.stringify(e),"level.json","text/plain")},Zt=(e,t,n)=>{var o=document.createElement("a"),r=new Blob([e],{type:n});o.href=URL.createObjectURL(r),o.download=t,o.click(),window.alert(`${t} downloaded`)};function te(e){let t,n,o,r,s,u,i,l,c,_,f,m,P,x;return{c(){t=y("div"),n=y("button"),n.textContent="Load",o=C(),r=y("button"),r.textContent="Save",s=C(),u=y("button"),u.textContent="Clear",i=C(),l=y("button"),l.textContent="Player",c=C(),_=y("button"),_.textContent="Goal",f=C(),m=y("button"),m.textContent="Platform",w(n,"class","svelte-zthcnx"),w(r,"class","svelte-zthcnx"),w(u,"class","svelte-zthcnx"),w(l,"class","svelte-zthcnx"),w(_,"class","svelte-zthcnx"),w(m,"class","svelte-zthcnx"),E(t,"display","flex"),E(t,"gap","10px"),E(t,"margin-top","1em")},m(d,a){v(d,t,a),h(t,n),h(t,o),h(t,r),h(t,s),h(t,u),h(t,i),h(t,l),h(t,c),h(t,_),h(t,f),h(t,m),P||(x=[k(r,"click",Vt),k(u,"click",Dt),k(l,"click",Ht),k(_,"click",Kt),k(m,"click",Qt)],P=!0)},p:b,i:b,o:b,d(d){d&&$(t),P=!1,j(x)}}}class ee extends T{constructor(t){super(),B(this,t,null,te,N,{})}}function ne(e){let t,n,o,r;const s=e[5].default,u=jt(s,e,e[4],null);return{c(){t=y("div"),u&&u.c(),w(t,"class","figure circle svelte-lwj6zi"),E(t,"background-color","white"),E(t,"top",e[0].y+"px"),E(t,"left",e[0].x+"px")},m(i,l){v(i,t,l),u&&u.m(t,null),n=!0,o||(r=[k(window,"mouseup",e[3]),k(window,"mousemove",e[2]),k(t,"mousedown",e[1]),k(t,"mousedown",e[6])],o=!0)},p(i,[l]){u&&u.p&&(!n||l&16)&&Mt(u,s,i,i[4],n?Nt(s,i[4],l,null):qt(i[4]),null),(!n||l&1)&&E(t,"top",i[0].y+"px"),(!n||l&1)&&E(t,"left",i[0].x+"px")},i(i){n||(p(u,i),n=!0)},o(i){g(u,i),n=!1},d(i){i&&$(t),u&&u.d(i),o=!1,j(r)}}}function oe(e,t,n){let{$$slots:o={},$$scope:r}=t,{position:s}=t,u=!1;function i(){u=!0}function l(f){u&&(n(0,s.x+=f.movementX,s),n(0,s.y+=f.movementY,s))}function c(){u=!1}function _(f){Ft.call(this,e,f)}return e.$$set=f=>{"position"in f&&n(0,s=f.position),"$$scope"in f&&n(4,r=f.$$scope)},[s,i,l,c,r,o,_]}class ut extends T{constructor(t){super(),B(this,t,oe,ne,N,{position:0})}}function $t(e){let t,n;return t=new ut({props:{position:e[0].position,$$slots:{default:[re]},$$scope:{ctx:e}}}),{c(){S(t.$$.fragment)},m(o,r){O(t,o,r),n=!0},p(o,r){const s={};r&1&&(s.position=o[0].position),r&3&&(s.$$scope={dirty:r,ctx:o}),t.$set(s)},i(o){n||(p(t.$$.fragment,o),n=!0)},o(o){g(t.$$.fragment,o),n=!1},d(o){L(t,o)}}}function yt(e){let t,n=e[0].label+"",o;return{c(){t=y("span"),o=ct(n),w(t,"class","label svelte-15kq1cq")},m(r,s){v(r,t,s),h(t,o)},p(r,s){s&1&&n!==(n=r[0].label+"")&&Tt(o,n)},d(r){r&&$(t)}}}function re(e){let t,n=e[0].label&&yt(e);return{c(){n&&n.c(),t=ft()},m(o,r){n&&n.m(o,r),v(o,t,r)},p(o,r){o[0].label?n?n.p(o,r):(n=yt(o),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(o){n&&n.d(o),o&&$(t)}}}function ie(e){let t,n,o=e[0]&&$t(e);return{c(){o&&o.c(),t=ft()},m(r,s){o&&o.m(r,s),v(r,t,s),n=!0},p(r,[s]){r[0]?o?(o.p(r,s),s&1&&p(o,1)):(o=$t(r),o.c(),p(o,1),o.m(t.parentNode,t)):o&&(at(),g(o,1,1,()=>{o=null}),dt())},i(r){n||(p(o),n=!0)},o(r){g(o),n=!1},d(r){o&&o.d(r),r&&$(t)}}}function se(e,t,n){let{figure:o}=t;return e.$$set=r=>{"figure"in r&&n(0,o=r.figure)},[o]}class wt extends T{constructor(t){super(),B(this,t,se,ie,N,{figure:0})}}function le(e){let t,n,o,r,s,u;function i(f){e[2](f)}let l={};e[0].startPosition!==void 0&&(l.position=e[0].startPosition),t=new ut({props:l}),A.push(()=>Z(t,"position",i)),t.$on("mousedown",e[1]);function c(f){e[3](f)}let _={};return e[0].endPosition!==void 0&&(_.position=e[0].endPosition),r=new ut({props:_}),A.push(()=>Z(r,"position",c)),r.$on("mousedown",e[1]),{c(){S(t.$$.fragment),o=C(),S(r.$$.fragment)},m(f,m){O(t,f,m),v(f,o,m),O(r,f,m),u=!0},p(f,[m]){const P={};!n&&m&1&&(n=!0,P.position=f[0].startPosition,V(()=>n=!1)),t.$set(P);const x={};!s&&m&1&&(s=!0,x.position=f[0].endPosition,V(()=>s=!1)),r.$set(x)},i(f){u||(p(t.$$.fragment,f),p(r.$$.fragment,f),u=!0)},o(f){g(t.$$.fragment,f),g(r.$$.fragment,f),u=!1},d(f){L(t,f),f&&$(o),L(r,f)}}}function ue(e,t,n){let o;W(e,tt,l=>n(4,o=l));let{platform:r}=t;const s=()=>{rt(tt,o=r,o)};function u(l){e.$$.not_equal(r.startPosition,l)&&(r.startPosition=l,n(0,r))}function i(l){e.$$.not_equal(r.endPosition,l)&&(r.endPosition=l,n(0,r))}return e.$$set=l=>{"platform"in l&&n(0,r=l.platform)},[r,s,u,i]}class ce extends T{constructor(t){super(),B(this,t,ue,le,N,{platform:0})}}function fe(e){let t,n,o;return{c(){t=y("canvas"),E(t,"z-index","-999"),E(t,"position","fixed"),w(t,"width","900"),w(t,"height","506")},m(r,s){v(r,t,s),e[4](t),n||(o=[k(window,"mouseup",e[2]),k(window,"mousemove",e[3])],n=!0)},p:b,i:b,o:b,d(r){r&&$(t),e[4](null),n=!1,j(o)}}}function ae(e,t,n){let o,r;W(e,et,c=>n(5,o=c)),W(e,tt,c=>n(1,r=c));let s;Ut(()=>{rt(et,o=s.getContext("2d"),o)});const u=()=>{r&&(nt(),rt(tt,r=void 0,r))},i=()=>{r&&nt()};function l(c){A[c?"unshift":"push"](()=>{s=c,n(0,s)})}return[s,r,u,i,l]}class de extends T{constructor(t){super(),B(this,t,ae,fe,N,{})}}function vt(e,t,n){const o=e.slice();return o[5]=t[n],o}function Pt(e){let t,n,o=e[2],r=[];for(let u=0;u<o.length;u+=1)r[u]=xt(vt(e,o,u));const s=u=>g(r[u],1,1,()=>{r[u]=null});return{c(){for(let u=0;u<r.length;u+=1)r[u].c();t=ft()},m(u,i){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(u,i);v(u,t,i),n=!0},p(u,i){if(i&4){o=u[2];let l;for(l=0;l<o.length;l+=1){const c=vt(u,o,l);r[l]?(r[l].p(c,i),p(r[l],1)):(r[l]=xt(c),r[l].c(),p(r[l],1),r[l].m(t.parentNode,t))}for(at(),l=o.length;l<r.length;l+=1)s(l);dt()}},i(u){if(!n){for(let i=0;i<o.length;i+=1)p(r[i]);n=!0}},o(u){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)g(r[i]);n=!1},d(u){At(r,u),u&&$(t)}}}function xt(e){let t,n;return t=new ce({props:{platform:e[5]}}),{c(){S(t.$$.fragment)},m(o,r){O(t,o,r),n=!0},p(o,r){const s={};r&4&&(s.platform=o[5]),t.$set(s)},i(o){n||(p(t.$$.fragment,o),n=!0)},o(o){g(t.$$.fragment,o),n=!1},d(o){L(t,o)}}}function pe(e){let t,n,o,r,s,u,i,l,c,_;n=new de({});function f(a){e[3](a)}let m={};e[0]!==void 0&&(m.figure=e[0]),r=new wt({props:m}),A.push(()=>Z(r,"figure",f));function P(a){e[4](a)}let x={};e[1]!==void 0&&(x.figure=e[1]),i=new wt({props:x}),A.push(()=>Z(i,"figure",P));let d=e[2]&&Pt(e);return{c(){t=y("div"),S(n.$$.fragment),o=C(),S(r.$$.fragment),u=C(),S(i.$$.fragment),c=C(),d&&d.c(),w(t,"id","container"),w(t,"class","svelte-1r66qiu")},m(a,G){v(a,t,G),O(n,t,null),h(t,o),O(r,t,null),h(t,u),O(i,t,null),h(t,c),d&&d.m(t,null),_=!0},p(a,[G]){const pt={};!s&&G&1&&(s=!0,pt.figure=a[0],V(()=>s=!1)),r.$set(pt);const _t={};!l&&G&2&&(l=!0,_t.figure=a[1],V(()=>l=!1)),i.$set(_t),a[2]?d?(d.p(a,G),G&4&&p(d,1)):(d=Pt(a),d.c(),p(d,1),d.m(t,null)):d&&(at(),g(d,1,1,()=>{d=null}),dt())},i(a){_||(p(n.$$.fragment,a),p(r.$$.fragment,a),p(i.$$.fragment,a),p(d),_=!0)},o(a){g(n.$$.fragment,a),g(r.$$.fragment,a),g(i.$$.fragment,a),g(d),_=!1},d(a){a&&$(t),L(n),L(r),L(i),d&&d.d()}}}function _e(e,t,n){let o,r,s;W(e,J,l=>n(0,o=l)),W(e,X,l=>n(1,r=l)),W(e,q,l=>n(2,s=l));function u(l){o=l,J.set(o)}function i(l){r=l,X.set(r)}return[o,r,s,u,i]}class me extends T{constructor(t){super(),B(this,t,_e,pe,N,{})}}function ge(e){let t,n,o,r,s,u;return t=new me({}),o=new ee({}),{c(){S(t.$$.fragment),n=C(),S(o.$$.fragment),r=C(),s=y("p"),s.innerHTML="<em>Aevumdev - Sketchy Level Editor</em>"},m(i,l){O(t,i,l),v(i,n,l),O(o,i,l),v(i,r,l),v(i,s,l),u=!0},p:b,i(i){u||(p(t.$$.fragment,i),p(o.$$.fragment,i),u=!0)},o(i){g(t.$$.fragment,i),g(o.$$.fragment,i),u=!1},d(i){L(t,i),i&&$(n),L(o,i),i&&$(r),i&&$(s)}}}class he extends T{constructor(t){super(),B(this,t,null,ge,N,{})}}new he({target:document.getElementById("app")});
